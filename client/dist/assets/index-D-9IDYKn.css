:root{--bg: #080810;--bg-glass: rgba(255, 255, 255, .05);--bg-glass-deep: rgba(255, 255, 255, .03);--border: rgba(255, 255, 255, .09);--border-focus: rgba(79, 142, 247, .6);--accent: #4f8ef7;--accent-hover: #6fa3ff;--accent-glow: rgba(79, 142, 247, .25);--accent-dim: rgba(79, 142, 247, .15);--text: #eeeef5;--text-2: #8888a8;--text-3: #50506a;--green: #22c55e;--red: #ef4444;--bubble-own: rgba(79, 142, 247, .16);--bubble-other: rgba(255, 255, 255, .05);--r-sm: 8px;--r-md: 14px;--r-lg: 20px;--r-xl: 28px;--font: -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif}*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}html{height:100%;scroll-behavior:smooth}body{height:100%;font-family:var(--font);background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;overflow:hidden}#root{height:100%;display:flex;flex-direction:column}::-webkit-scrollbar{width:4px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:#ffffff1a;border-radius:2px}.glass{background:var(--bg-glass);backdrop-filter:blur(24px) saturate(160%);-webkit-backdrop-filter:blur(24px) saturate(160%);border:1px solid var(--border)}.spinner{display:inline-block;width:16px;height:16px;border:2px solid rgba(255,255,255,.2);border-top-color:#fff;border-radius:50%;animation:spin .75s linear infinite}.spinner.large{width:32px;height:32px;border-width:3px;border-top-color:var(--accent)}@keyframes spin{to{transform:rotate(360deg)}}.login-container{flex:1;display:flex;align-items:center;justify-content:center;padding:24px 16px;background:radial-gradient(ellipse 70% 50% at 20% 60%,rgba(79,142,247,.07) 0%,transparent 70%),radial-gradient(ellipse 60% 40% at 80% 30%,rgba(120,60,200,.05) 0%,transparent 60%),var(--bg);overflow-y:auto}.login-card{width:100%;max-width:420px;padding:44px 36px 36px;border-radius:var(--r-xl);display:flex;flex-direction:column;gap:24px;box-shadow:0 0 0 1px #ffffff0d,0 32px 80px #000000b3,0 0 120px #4f8ef70a;animation:fadeUp .35s ease}@keyframes fadeUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.login-logo{display:flex;justify-content:center}.lock-icon{font-size:52px;display:block;animation:glow 3s ease-in-out infinite}@keyframes glow{0%,to{filter:drop-shadow(0 0 18px rgba(79,142,247,.4))}50%{filter:drop-shadow(0 0 36px rgba(79,142,247,.85))}}.login-header{text-align:center}.login-title{font-size:30px;font-weight:700;letter-spacing:-.5px;background:linear-gradient(135deg,#eeeef5 0%,var(--accent) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.login-subtitle{margin-top:6px;font-size:13px;color:var(--text-2);line-height:1.55}.login-form{display:flex;flex-direction:column;gap:16px}.field-group{display:flex;flex-direction:column;gap:6px}.field-group label{font-size:13px;font-weight:500;color:var(--text-2)}.label-hint{font-weight:400;color:var(--text-3);font-size:12px}.field-group input{width:100%;padding:12px 16px;background:var(--bg-glass-deep);border:1px solid var(--border);border-radius:var(--r-md);color:var(--text);font-size:15px;font-family:var(--font);transition:border-color .2s,box-shadow .2s;outline:none;-webkit-appearance:none}.field-group input:focus{border-color:var(--accent);box-shadow:0 0 0 3px var(--accent-glow)}.field-group input:disabled{opacity:.45;cursor:not-allowed}.seed-input-wrapper{position:relative}.seed-input-wrapper input{padding-right:48px}.toggle-seed{position:absolute;right:10px;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer;font-size:18px;opacity:.5;transition:opacity .2s;padding:4px;line-height:1}.toggle-seed:hover{opacity:1}.field-hint{font-size:11px;color:var(--text-3);line-height:1.5}.login-error{padding:10px 14px;background:#ef44441a;border:1px solid rgba(239,68,68,.25);border-radius:var(--r-sm);color:#fca5a5;font-size:13px}.login-btn{padding:14px;background:var(--accent);border:none;border-radius:var(--r-md);color:#fff;font-size:15px;font-weight:600;cursor:pointer;transition:background .2s,transform .15s,box-shadow .2s;box-shadow:0 4px 24px #4f8ef766}.login-btn:hover:not(:disabled){background:var(--accent-hover);transform:translateY(-1px);box-shadow:0 8px 32px #4f8ef78c}.login-btn:active:not(:disabled){transform:translateY(0)}.login-btn:disabled{opacity:.45;cursor:not-allowed}.btn-loading{display:flex;align-items:center;justify-content:center;gap:10px}.login-security-badges{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}.badge{padding:4px 10px;background:var(--accent-dim);border:1px solid rgba(79,142,247,.2);border-radius:20px;font-size:11px;color:var(--accent-hover);font-weight:500;letter-spacing:.3px}.chat-container{flex:1;display:flex;flex-direction:column;max-width:900px;width:100%;margin:0 auto;height:100%;position:relative}.chat-header{display:flex;align-items:center;justify-content:space-between;padding:10px 16px;border-bottom:1px solid rgba(255,255,255,.06);flex-shrink:0;z-index:10;gap:12px}.header-left{display:flex;align-items:center;gap:10px;min-width:0}.header-logo{width:36px;height:36px;border-radius:10px;background:linear-gradient(135deg,var(--accent) 0%,#7c3aed 100%);display:flex;align-items:center;justify-content:center;font-size:13px;font-weight:800;color:#fff;letter-spacing:-.5px;flex-shrink:0;box-shadow:0 4px 14px #4f8ef766}.header-info{display:flex;flex-direction:column;min-width:0}.header-title{font-size:15px;font-weight:600;white-space:nowrap}.header-status{font-size:11px;font-weight:500}.status-online{color:var(--green)}.status-connecting{color:var(--text-3)}.status-offline{color:var(--red)}.header-right{display:flex;align-items:center;gap:10px;flex-shrink:0}.online-badge{display:flex;align-items:center;gap:6px;font-size:12px;color:var(--text-2);background:#ffffff0a;border:1px solid var(--border);padding:5px 11px;border-radius:20px;white-space:nowrap}.online-dot{width:7px;height:7px;background:var(--green);border-radius:50%;animation:pulse-dot 2.5s ease-in-out infinite;flex-shrink:0}@keyframes pulse-dot{0%,to{box-shadow:0 0 #22c55e80}50%{box-shadow:0 0 0 5px #22c55e00}}.nick-badge{font-size:12px;color:var(--accent-hover);font-weight:500;background:var(--accent-dim);border:1px solid rgba(79,142,247,.2);padding:5px 11px;border-radius:20px;max-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.logout-btn{padding:6px 14px;background:#ffffff0d;border:1px solid var(--border);border-radius:var(--r-sm);color:var(--text-2);font-size:13px;font-weight:500;cursor:pointer;transition:background .2s,color .2s;white-space:nowrap}.logout-btn:hover{background:#ef44441f;color:#fca5a5;border-color:#ef444440}.messages-area{flex:1;overflow-y:auto;padding:20px 16px 8px;display:flex;flex-direction:column;gap:6px;background-image:radial-gradient(ellipse 60% 40% at 50% 0%,rgba(79,142,247,.04) 0%,transparent 60%)}.empty-state{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:10px;color:var(--text-3);text-align:center;padding:40px 20px}.empty-icon{font-size:40px;opacity:.5}.empty-title{font-size:16px;font-weight:500;color:var(--text-2)}.empty-hint{font-size:13px}.load-more-hint{text-align:center;font-size:11px;color:var(--text-3);padding:6px 20px;opacity:.6;-webkit-user-select:none;user-select:none}.scroll-to-bottom-btn{position:absolute;bottom:130px;right:20px;width:38px;height:38px;border-radius:50%;border:none;background:var(--accent);color:#fff;font-size:20px;line-height:1;cursor:pointer;box-shadow:0 2px 12px #00000059;display:flex;align-items:center;justify-content:center;z-index:50;transition:transform .15s,opacity .15s}.scroll-to-bottom-btn:hover{transform:translateY(-2px);opacity:.85}.read-receipt{font-size:12px;color:#4f8ef7;margin-top:2px;line-height:1;-webkit-user-select:none;user-select:none}.like-badge{display:inline-flex;align-items:center;gap:3px;background:#ffffff14;border:1px solid rgba(255,255,255,.12);border-radius:12px;padding:2px 7px 2px 5px;font-size:13px;cursor:pointer;-webkit-user-select:none;user-select:none;align-self:flex-end;margin-bottom:4px;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);transition:background .15s;flex-shrink:0}.like-badge:hover{background:#ffffff24}.like-badge-own{align-self:flex-end}.like-count{font-size:12px;font-weight:600;color:#ff6b81;line-height:1}.like-nicks{font-size:11px;color:#ffffff8c;letter-spacing:1px;line-height:1}.message-row{display:flex;animation:msgIn .22s ease}@keyframes msgIn{0%{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}.message-row.own{justify-content:flex-end}.message-row.other{justify-content:flex-start}.message-bubble{max-width:75%;padding:9px 14px 7px;display:flex;flex-direction:column;gap:3px;word-break:break-word;position:relative}.message-row.own .message-bubble{background:var(--bubble-own);border:1px solid rgba(79,142,247,.22);border-radius:var(--r-lg) var(--r-sm) var(--r-lg) var(--r-lg);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.message-row.other .message-bubble{background:var(--bubble-other);border:1px solid var(--border);border-radius:var(--r-sm) var(--r-lg) var(--r-lg) var(--r-lg);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.message-nick{font-size:11px;font-weight:600;color:var(--accent-hover);text-transform:uppercase;letter-spacing:.4px}.message-text{font-size:15px;line-height:1.5;color:var(--text);white-space:pre-wrap}.message-time{font-size:10px;color:var(--text-3);align-self:flex-end;margin-top:1px}.chat-footer{padding:10px 16px 16px;border-top:1px solid rgba(255,255,255,.06);flex-shrink:0}@supports (padding-bottom: env(safe-area-inset-bottom)){.chat-footer{padding-bottom:calc(16px + env(safe-area-inset-bottom))}}.input-area{display:flex;flex-direction:column;gap:6px}.input-wrapper{display:flex;align-items:flex-end;gap:10px}.message-textarea{flex:1;padding:12px 16px;background:#ffffff0a;border:1px solid var(--border);border-radius:var(--r-lg);color:var(--text);font-size:15px;font-family:var(--font);resize:none;outline:none;line-height:1.5;max-height:120px;overflow-y:auto;transition:border-color .2s,box-shadow .2s;-webkit-appearance:none}.message-textarea::placeholder{color:var(--text-3)}.message-textarea:focus{border-color:var(--accent);box-shadow:0 0 0 3px var(--accent-glow)}.message-textarea:disabled{opacity:.35;cursor:not-allowed}.send-btn{width:46px;height:46px;background:var(--accent);border:none;border-radius:50%;color:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:background .2s,transform .15s,box-shadow .2s;box-shadow:0 4px 18px #4f8ef773}.send-btn:hover:not(:disabled){background:var(--accent-hover);transform:scale(1.06);box-shadow:0 6px 24px #4f8ef7a6}.send-btn:active:not(:disabled){transform:scale(.97)}.send-btn:disabled{opacity:.35;cursor:not-allowed}.input-hint{font-size:10px;color:var(--text-3);padding-left:2px}.desktop-only{display:flex}.mobile-only{display:none}.attach-menu{position:absolute;bottom:calc(100% + 8px);left:0;background:#161626f7;border:1px solid var(--border);border-radius:var(--r-lg);padding:6px;display:flex;flex-direction:column;gap:2px;min-width:190px;z-index:200;box-shadow:0 8px 32px #00000080;-webkit-backdrop-filter:blur(16px);backdrop-filter:blur(16px)}.attach-menu-item{display:flex;align-items:center;gap:12px;padding:11px 14px;border:none;background:transparent;color:var(--text);font-size:15px;border-radius:var(--r-md);cursor:pointer;text-align:left;width:100%;transition:background .15s}.attach-menu-item:hover,.attach-menu-item:active{background:#ffffff17}.attach-menu-item span{font-size:20px;width:26px;text-align:center;flex-shrink:0}@media (max-width: 600px){.desktop-only{display:none!important}.mobile-only{display:flex}.login-card{padding:32px 20px 28px;border-radius:var(--r-lg)}.lock-icon{font-size:44px}.login-title{font-size:26px}.chat-header{padding:8px 12px}.nick-badge{display:none}.online-badge span:last-child{display:none}.messages-area{padding:12px 10px 6px;gap:5px}.message-bubble{max-width:90%}.message-text{font-size:15px}.message-textarea{font-size:16px!important}.chat-footer{padding:8px 12px 14px}.send-btn{width:44px;height:44px}}@media (max-width: 380px){.logout-btn{padding:6px 10px;font-size:12px}}.app-logo-text{display:flex;align-items:center;justify-content:center;width:64px;height:64px;border-radius:20px;background:linear-gradient(135deg,var(--accent) 0%,#7c3aed 100%);font-size:20px;font-weight:900;color:#fff;letter-spacing:-.5px;margin:0 auto;box-shadow:0 8px 32px #4f8ef766,0 0 0 1px #ffffff1a;animation:glow 3s ease-in-out infinite}.echo-tagline{margin-top:4px;font-size:12px;font-weight:500;letter-spacing:.08em;text-transform:uppercase;color:var(--text-3)}.auth-tabs{display:flex;background:#ffffff08;border:1px solid var(--border);border-radius:var(--r-md);padding:3px;gap:3px}.auth-tab{flex:1;padding:9px;border:none;border-radius:calc(var(--r-md) - 3px);background:none;color:var(--text-2);font-size:14px;font-weight:500;cursor:pointer;transition:background .2s,color .2s}.auth-tab:hover{color:var(--text)}.auth-tab.active{background:var(--accent);color:#fff;box-shadow:0 2px 12px #4f8ef766}.room-account-info{display:flex;align-items:center;justify-content:center;gap:12px;margin-top:6px}.room-nick{font-size:14px;color:var(--accent-hover);font-weight:500;background:var(--accent-dim);border:1px solid rgba(79,142,247,.2);padding:4px 12px;border-radius:20px}.link-btn{background:none;border:none;color:var(--text-3);font-size:12px;cursor:pointer;text-decoration:underline;padding:0;transition:color .2s}.link-btn:hover{color:var(--text-2)}.leave-btn{padding:6px 12px;background:#ffffff0a;border:1px solid var(--border);border-radius:var(--r-sm);color:var(--text-2);font-size:12px;font-weight:500;cursor:pointer;transition:background .2s,color .2s;white-space:nowrap}.leave-btn:hover{background:#ffffff14;color:var(--text)}.reply-quote{display:flex;flex-direction:column;gap:2px;padding:6px 10px;border-left:3px solid var(--accent);background:#4f8ef714;border-radius:0 var(--r-sm) var(--r-sm) 0;margin-bottom:4px}.reply-quote-nick{font-size:11px;font-weight:700;color:var(--accent-hover);text-transform:uppercase;letter-spacing:.3px}.reply-quote-text{font-size:12px;color:var(--text-2);line-height:1.4;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.reply-btn{background:#ffffff0f;border:1px solid var(--border);border-radius:50%;width:30px;height:30px;display:flex;align-items:center;justify-content:center;font-size:14px;cursor:pointer;color:var(--text-2);transition:opacity .15s,background .15s,color .15s;opacity:0;pointer-events:none;flex-shrink:0;align-self:center}.reply-btn.visible{opacity:1;pointer-events:auto}.reply-btn:hover{background:var(--accent-dim);color:var(--accent-hover);border-color:#4f8ef74d}.reply-btn-left{margin-right:6px;order:-1}.reply-btn-right{margin-left:6px}.reply-preview{display:flex;align-items:center;gap:10px;padding:8px 12px;background:#4f8ef712;border:1px solid rgba(79,142,247,.18);border-radius:var(--r-md);margin-bottom:8px;animation:fadeUp .15s ease}.reply-preview-content{flex:1;display:flex;align-items:baseline;gap:6px;min-width:0;overflow:hidden}.reply-preview-label{font-size:12px;color:var(--accent);font-weight:500;flex-shrink:0}.reply-preview-nick{font-size:12px;font-weight:700;color:var(--accent-hover);flex-shrink:0}.reply-preview-text{font-size:12px;color:var(--text-2);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.reply-cancel-btn{background:none;border:none;color:var(--text-3);font-size:14px;cursor:pointer;padding:2px 4px;line-height:1;transition:color .2s;flex-shrink:0}.reply-cancel-btn:hover{color:var(--text)}@media (max-width: 600px){.leave-btn{padding:5px 8px;font-size:11px}.reply-btn{display:none}.reply-preview{padding:6px 10px}}.emoji-toggle-btn,.img-upload-btn{width:38px;height:38px;background:#ffffff0d;border:1px solid var(--border);border-radius:var(--r-md);display:flex;align-items:center;justify-content:center;font-size:18px;cursor:pointer;flex-shrink:0;transition:background .2s,border-color .2s;color:var(--text-2);line-height:1}.emoji-toggle-btn:hover:not(:disabled),.img-upload-btn:hover:not(:disabled){background:#ffffff17;border-color:#ffffff29}.emoji-toggle-btn.active{background:var(--accent-dim);border-color:#4f8ef759}.emoji-toggle-btn:disabled,.img-upload-btn:disabled{opacity:.35;cursor:not-allowed}.emoji-picker{position:absolute;bottom:calc(100% + 8px);left:0;width:min(380px,96vw);border-radius:var(--r-lg);box-shadow:0 0 0 1px #ffffff14,0 24px 60px #000000b3;z-index:100;overflow:hidden;animation:fadeUp .15s ease}.emoji-search{padding:10px 12px 0}.emoji-search-input{width:100%;padding:8px 12px;background:#ffffff0f;border:1px solid var(--border);border-radius:var(--r-md);color:var(--text);font-size:13px;font-family:var(--font);outline:none;transition:border-color .2s}.emoji-search-input:focus{border-color:var(--accent)}.emoji-search-input::placeholder{color:var(--text-3)}.emoji-cats{display:flex;padding:8px 8px 0;gap:2px;overflow-x:auto;scrollbar-width:none}.emoji-cats::-webkit-scrollbar{display:none}.emoji-cat-btn{width:34px;height:34px;border:none;background:none;border-radius:var(--r-sm);font-size:18px;cursor:pointer;display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:background .15s;line-height:1}.emoji-cat-btn:hover{background:#ffffff14}.emoji-cat-btn.active{background:var(--accent-dim);box-shadow:inset 0 0 0 1px #4f8ef74d}.emoji-grid{display:grid;grid-template-columns:repeat(8,1fr);gap:2px;padding:8px 10px 12px;max-height:240px;overflow-y:auto}@media (max-width: 400px){.emoji-grid{grid-template-columns:repeat(7,1fr)}}.emoji-btn{width:36px;height:36px;background:none;border:none;border-radius:var(--r-sm);font-size:20px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background .12s,transform .1s;line-height:1}.emoji-btn:hover{background:#ffffff17;transform:scale(1.2)}.emoji-btn:active{transform:scale(1.05)}.img-msg-placeholder{display:flex;align-items:center;gap:8px;padding:12px 16px;color:var(--text-2);font-size:13px;min-width:120px}.img-msg-placeholder.error{color:var(--text-3)}.img-msg-wrapper{position:relative;cursor:pointer;border-radius:var(--r-md);overflow:hidden;max-width:260px;display:inline-block}.img-msg{display:block;max-width:100%;max-height:300px;width:auto;height:auto;border-radius:var(--r-md);object-fit:cover;transition:filter .2s}.img-msg-overlay{position:absolute;top:0;right:0;bottom:0;left:0;background:#0000;display:flex;align-items:center;justify-content:center;font-size:28px;opacity:0;transition:background .2s,opacity .2s;border-radius:var(--r-md)}.img-msg-wrapper:hover .img-msg{filter:brightness(.8)}.img-msg-wrapper:hover .img-msg-overlay{background:#0000004d;opacity:1}.img-lightbox{position:fixed;top:0;right:0;bottom:0;left:0;background:#000000e6;z-index:999;display:flex;align-items:center;justify-content:center;padding:20px;animation:fadeIn .2s ease;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.img-lightbox-inner{position:relative;max-width:min(900px,95vw);max-height:90vh;display:flex;flex-direction:column;align-items:center;gap:14px}.img-lightbox-img{max-width:100%;max-height:80vh;border-radius:var(--r-lg);object-fit:contain;box-shadow:0 24px 80px #000c}.img-lightbox-close{position:absolute;top:-14px;right:-14px;width:36px;height:36px;background:#ffffff1f;border:1px solid rgba(255,255,255,.2);border-radius:50%;color:#fff;font-size:16px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background .2s;z-index:1}.img-lightbox-close:hover{background:#ffffff38}.img-download-btn{padding:9px 24px;background:var(--accent);border-radius:var(--r-md);color:#fff;font-size:14px;font-weight:600;text-decoration:none;transition:background .2s;box-shadow:0 4px 16px #4f8ef766}.img-download-btn:hover{background:var(--accent-hover)}.chat-footer,.input-area{position:relative}.chat-preloader{position:absolute;top:0;right:0;bottom:0;left:0;z-index:100;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:20px;background:var(--bg);animation:fadeIn .15s ease}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.preloader-logo{width:72px;height:72px;border-radius:22px;background:linear-gradient(135deg,var(--accent) 0%,#7c3aed 100%);display:flex;align-items:center;justify-content:center;font-size:24px;font-weight:900;color:#fff;letter-spacing:-.5px;box-shadow:0 8px 32px #4f8ef766;animation:glow 3s ease-in-out infinite}.preloader-spinner{width:36px;height:36px;border:3px solid rgba(255,255,255,.1);border-top-color:var(--accent);border-radius:50%;animation:spin .8s linear infinite}.preloader-text{font-size:13px;color:var(--text-3);letter-spacing:.06em}.typing-indicator{display:flex;align-items:center;gap:8px;padding:0 20px;height:0;overflow:hidden;font-size:12px;color:var(--text-3);transition:height .2s ease,padding .2s ease}.typing-indicator--visible{height:28px;padding:4px 20px}.typing-dots{display:flex;gap:3px;align-items:center;flex-shrink:0}.typing-dots span{display:block;width:5px;height:5px;background:var(--accent);border-radius:50%;animation:typingBounce 1.2s ease-in-out infinite}.typing-dots span:nth-child(2){animation-delay:.2s}.typing-dots span:nth-child(3){animation-delay:.4s}@keyframes typingBounce{0%,80%,to{transform:scale(.65);opacity:.3}40%{transform:scale(1);opacity:1}}.typing-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.upload-progress-bar{display:flex;align-items:center;gap:10px;padding:6px 12px;background:var(--bg-glass-deep);border-top:1px solid var(--border)}.upload-progress-track{flex:1;height:4px;background:#ffffff14;border-radius:2px;overflow:hidden}.upload-progress-fill{height:100%;background:linear-gradient(90deg,var(--accent),#7c3aed);border-radius:2px;transition:width .2s ease}.upload-progress-label{font-size:11px;color:var(--text-3);white-space:nowrap;min-width:100px;text-align:right}.file-dl-progress{display:flex;align-items:center;gap:5px;font-size:11px;color:var(--text-3)}@keyframes highlightFlash{0%{background:#4f8ef700}20%{background:#4f8ef738}80%{background:#4f8ef72e}to{background:#4f8ef700}}.message-row.highlighted .message-bubble{animation:highlightFlash 1.4s ease forwards;border-radius:var(--r-lg)}.reply-quote-clickable{cursor:pointer;transition:background .15s}.file-msg{display:flex;align-items:center;gap:10px;padding:10px 12px;background:#ffffff0a;border:1px solid var(--border);border-radius:var(--r-md);min-width:220px;max-width:280px}.file-msg-error{opacity:.5}.file-msg-icon{font-size:26px;flex-shrink:0;line-height:1}.file-msg-info{flex:1;display:flex;flex-direction:column;gap:2px;min-width:0}.file-msg-name{font-size:13px;font-weight:500;color:var(--text);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.file-msg-size{font-size:11px;color:var(--text-3)}.file-msg-actions{display:flex;gap:6px;flex-shrink:0}.file-action-btn{width:30px;height:30px;background:#ffffff0f;border:1px solid var(--border);border-radius:var(--r-sm);color:var(--text-2);font-size:14px;cursor:pointer;display:flex;align-items:center;justify-content:center;text-decoration:none;transition:background .15s,color .15s}.file-action-btn:hover{background:var(--accent-dim);color:var(--accent-hover);border-color:#4f8ef74d}.pdf-lightbox{position:fixed;top:0;right:0;bottom:0;left:0;background:#000000eb;z-index:999;display:flex;align-items:center;justify-content:center;padding:16px;animation:fadeIn .2s ease;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.pdf-lightbox-inner{position:relative;width:min(860px,96vw);height:90vh;display:flex;flex-direction:column;background:#0c0c18f7;border:1px solid var(--border);border-radius:var(--r-lg);overflow:hidden;box-shadow:0 32px 100px #000000e6}.pdf-lightbox-header{display:flex;align-items:center;gap:12px;padding:12px 16px;border-bottom:1px solid var(--border);flex-shrink:0;background:#ffffff08}.pdf-lightbox-title{flex:1;font-size:13px;font-weight:500;color:var(--text-2);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:0}.pdf-nav{display:flex;align-items:center;gap:8px;flex-shrink:0}.pdf-nav-btn{width:28px;height:28px;background:#ffffff0f;border:1px solid var(--border);border-radius:var(--r-sm);color:var(--text-2);font-size:11px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background .15s,color .15s}.pdf-nav-btn:hover:not(:disabled){background:var(--accent-dim);color:var(--accent-hover)}.pdf-nav-btn:disabled{opacity:.3;cursor:not-allowed}.pdf-page-info{font-size:12px;color:var(--text-2);min-width:80px;text-align:center}.pdf-zoom{display:flex;align-items:center;gap:4px;flex-shrink:0}.pdf-canvas-area{flex:1;overflow:auto;display:flex;align-items:flex-start;justify-content:center;background:#525659;padding:16px;position:relative}.pdf-canvas{display:block;box-shadow:0 4px 24px #0009;border-radius:2px;max-width:100%}.pdf-rendering-overlay{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;background:#52565999;z-index:2}.pdf-footer{padding:10px 16px;display:flex;justify-content:center;flex-shrink:0;border-top:1px solid var(--border)}@media (max-width: 600px){.pdf-lightbox{padding:0}.pdf-lightbox-inner{width:100vw;height:100dvh;border-radius:0}.file-msg{min-width:180px}.pdf-zoom{display:none}}.fullscreen-lightbox{position:fixed;top:0;right:0;bottom:0;left:0;z-index:9999;background:#000000f5;display:flex;flex-direction:column;animation:fadeIn .18s ease}.fullscreen-lightbox-topbar{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;flex-shrink:0;background:#0006;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-bottom:1px solid rgba(255,255,255,.08)}.fullscreen-lightbox-actions{display:flex;align-items:center;gap:8px}.fullscreen-btn{width:40px;height:40px;background:#ffffff17;border:1px solid rgba(255,255,255,.15);border-radius:var(--r-md);color:#fff;font-size:18px;cursor:pointer;display:flex;align-items:center;justify-content:center;text-decoration:none;transition:background .15s;line-height:1}.fullscreen-btn:hover{background:#fff3}.fullscreen-btn.close-btn{margin-left:8px}.fullscreen-lightbox-body{flex:1;display:flex;align-items:center;justify-content:center;overflow:hidden;cursor:zoom-out;padding:20px}.pdf-fs-overlay{position:fixed;top:0;right:0;bottom:0;left:0;z-index:9999;background:#000000f5;display:flex;flex-direction:column;align-items:center;justify-content:center;animation:fadeIn .18s ease;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.pdf-fs-inner{width:min(900px,98vw);height:min(96vh,100%);display:flex;flex-direction:column;background:#0c0c18fa;border:1px solid rgba(255,255,255,.1);border-radius:var(--r-lg);overflow:hidden;box-shadow:0 32px 100px #000000f2}.pdf-fs-topbar{display:flex;align-items:center;justify-content:space-between;padding:10px 14px;flex-shrink:0;background:#0006;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-bottom:1px solid rgba(255,255,255,.08);gap:12px}.pdf-fs-title{font-size:13px;font-weight:500;color:var(--text-2);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:0;flex:1}.pdf-fs-controls{display:flex;align-items:center;gap:8px;flex-shrink:0}@media (max-width: 600px){.pdf-fs-inner{width:100vw;height:100dvh;border-radius:0}.pdf-fs-topbar{padding:8px 10px;gap:6px}.pdf-fs-controls .pdf-zoom{display:none}}.pdftool-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#000000bf;z-index:9998;display:flex;align-items:center;justify-content:center;padding:24px;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);animation:fadeIn .15s ease}.pdftool-wrapper{width:min(580px,calc(100vw - 32px));max-height:min(90vh,700px);display:flex;flex-direction:column;background:#0d0d1c;border:1px solid rgba(255,255,255,.1);border-radius:var(--r-xl);overflow:hidden;box-shadow:0 0 0 1px #ffffff0d,0 32px 100px #000000e6}.pdftool-tabs{display:flex;align-items:center;gap:4px;padding:12px 12px 0;border-bottom:1px solid var(--border);background:#ffffff05}.pdftool-tab{padding:9px 16px;border:none;border-bottom:2px solid transparent;background:none;color:var(--text-2);font-size:14px;font-weight:500;cursor:pointer;transition:color .15s,border-color .15s;border-radius:var(--r-sm) var(--r-sm) 0 0;margin-bottom:-1px}.pdftool-tab:hover{color:var(--text)}.pdftool-tab.active{color:var(--accent-hover);border-bottom-color:var(--accent)}.pdftool-close{background:none;border:none;color:var(--text-3);font-size:16px;cursor:pointer;padding:4px 8px;line-height:1;transition:color .2s;margin-left:auto}.pdftool-close:hover{color:var(--text)}.pdftool-sending{display:flex;align-items:center;gap:8px;padding:8px 16px;font-size:13px;color:var(--accent-hover);background:var(--accent-dim);border-bottom:1px solid rgba(79,142,247,.2)}.pdftool-panel{display:flex;flex-direction:column;overflow:hidden;flex:1}.pdftool-header{display:flex;align-items:center;justify-content:space-between;padding:16px 16px 0}.pdftool-title{font-size:15px;font-weight:600;color:var(--text)}.pdftool-body{flex:1;overflow-y:auto;padding:16px;display:flex;flex-direction:column;gap:12px}.pdftool-dropzone{border:2px dashed var(--border);border-radius:var(--r-md);padding:24px 16px;text-align:center;cursor:pointer;color:var(--text-2);font-size:14px;transition:border-color .2s,background .2s}.pdftool-dropzone:hover{border-color:var(--accent);background:var(--accent-dim)}.pdftool-filelist{display:flex;flex-direction:column;gap:6px}.pdftool-fileitem{display:flex;align-items:center;gap:8px;padding:8px 10px;background:#ffffff08;border:1px solid var(--border);border-radius:var(--r-sm)}.pdftool-filenum{width:20px;font-size:12px;color:var(--text-3);text-align:center;flex-shrink:0}.pdftool-filename{flex:1;font-size:13px;color:var(--text);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:0}.pdftool-filesize{font-size:11px;color:var(--text-3);flex-shrink:0}.pdftool-filebtns{display:flex;gap:4px;flex-shrink:0}.pdftool-filebtn{width:26px;height:26px;background:#ffffff0d;border:1px solid var(--border);border-radius:var(--r-sm);color:var(--text-2);font-size:12px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background .15s}.pdftool-filebtn:hover:not(:disabled){background:#ffffff1a}.pdftool-filebtn:disabled{opacity:.3;cursor:not-allowed}.pdftool-filebtn.danger:hover{background:#ef444426;color:#fca5a5;border-color:#ef44444d}.pdftool-modes{display:flex;background:#ffffff08;border:1px solid var(--border);border-radius:var(--r-md);padding:3px;gap:3px}.pdftool-mode-btn{flex:1;padding:8px;border:none;border-radius:calc(var(--r-md) - 3px);background:none;color:var(--text-2);font-size:13px;font-weight:500;cursor:pointer;transition:background .2s,color .2s}.pdftool-mode-btn:hover{color:var(--text)}.pdftool-mode-btn.active{background:var(--accent);color:#fff;box-shadow:0 2px 8px #4f8ef759}.pdftool-field{display:flex;flex-direction:column;gap:6px}.pdftool-label{font-size:13px;color:var(--text-2)}.pdftool-label code{background:#ffffff12;padding:1px 5px;border-radius:4px;font-family:monospace;font-size:12px;color:var(--accent-hover)}.pdftool-input-row{display:flex;align-items:center;gap:10px}.pdftool-input{padding:9px 12px;background:#ffffff0a;border:1px solid var(--border);border-radius:var(--r-sm);color:var(--text);font-size:14px;font-family:var(--font);outline:none;width:80px;transition:border-color .2s}.pdftool-input:not([type=number]){width:100%}.pdftool-input:focus{border-color:var(--accent)}.pdftool-hint{font-size:12px;color:var(--text-3)}.pdftool-error{padding:8px 12px;background:#ef44441a;border:1px solid rgba(239,68,68,.25);border-radius:var(--r-sm);color:#fca5a5;font-size:13px}.pdftool-action-btn{display:flex;align-items:center;justify-content:center;gap:8px;padding:12px;background:var(--accent);border:none;border-radius:var(--r-md);color:#fff;font-size:14px;font-weight:600;cursor:pointer;transition:background .2s,opacity .2s;box-shadow:0 4px 16px #4f8ef759}.pdftool-action-btn:hover:not(:disabled){background:var(--accent-hover)}.pdftool-action-btn:disabled{opacity:.4;cursor:not-allowed}@media (max-width: 600px){.pdftool-overlay{padding:0;align-items:flex-end}.pdftool-wrapper{width:100vw;border-radius:var(--r-lg) var(--r-lg) 0 0;max-height:85vh}}.pdftool-dropzone-icon{font-size:28px;margin-bottom:4px}.pdftool-cards{display:flex;flex-direction:column;gap:8px}.pdftool-card{display:flex;align-items:center;gap:10px;padding:8px 10px;background:#ffffff08;border:1px solid var(--border);border-radius:var(--r-md);transition:border-color .15s}.pdftool-card:hover{border-color:#ffffff24}.pdftool-card-thumb{width:48px;height:62px;flex-shrink:0;border-radius:4px;overflow:hidden;background:#ffffff14;display:flex;align-items:center;justify-content:center}.pdftool-card-img{width:100%;height:100%;object-fit:cover}.pdftool-card-thumb-placeholder{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.pdftool-card-info{flex:1;display:flex;flex-direction:column;gap:3px;min-width:0}.pdftool-card-num{font-size:11px;color:var(--accent);font-weight:700}.pdftool-card-name{font-size:13px;font-weight:500;color:var(--text);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.pdftool-card-size{font-size:11px;color:var(--text-3)}.pdftool-card-btns{display:flex;gap:4px;flex-shrink:0}.merge-arrow-hint{text-align:center;font-size:12px;color:var(--text-3);padding:4px 0}.pdftool-source-file{display:flex;align-items:center;gap:12px;padding:10px 12px;background:#ffffff08;border:1px solid var(--border);border-radius:var(--r-md)}.pdftool-source-thumb{width:48px;height:62px;object-fit:cover;border-radius:4px;flex-shrink:0}.pdftool-source-info{flex:1;display:flex;flex-direction:column;gap:3px;min-width:0}.split-preview{display:flex;flex-direction:column;gap:8px}.split-preview-label{font-size:12px;font-weight:600;color:var(--accent-hover);text-transform:uppercase;letter-spacing:.5px}.split-preview-cards{display:flex;gap:8px;flex-wrap:wrap}.split-preview-card{display:flex;flex-direction:column;align-items:center;gap:4px;padding:8px;background:#4f8ef712;border:1px solid rgba(79,142,247,.2);border-radius:var(--r-md);min-width:80px;max-width:100px;text-align:center}.split-preview-thumb{width:56px;height:72px;object-fit:cover;border-radius:3px;opacity:.7}.split-preview-thumb-ph{width:56px;height:72px;display:flex;align-items:center;justify-content:center;font-size:28px;background:#ffffff0d;border-radius:3px}.split-preview-card-name{font-size:11px;font-weight:700;color:var(--accent-hover);line-height:1.3}.split-preview-card-file{font-size:9px;color:var(--text-3);word-break:break-all;line-height:1.2}.mic-btn{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:50%;background:transparent;border:1.5px solid var(--border);color:var(--text-2);font-size:18px;cursor:pointer;flex-shrink:0;transition:background .15s,border-color .15s,color .15s;user-select:none;-webkit-user-select:none;touch-action:none}.mic-btn:hover:not(:disabled){background:var(--bg-glass);border-color:#fff3;color:var(--text)}.mic-btn:disabled{opacity:.4;cursor:not-allowed}.mic-btn.recording{background:#ef444426;border-color:#ef4444;color:#ef4444;animation:mic-pulse 1s ease-in-out infinite}.mic-btn.cancel{background:#ef444440;border-color:#ef4444}@keyframes mic-pulse{0%,to{box-shadow:0 0 #ef444400}50%{box-shadow:0 0 0 6px #ef444433}}.recording-overlay{display:flex;align-items:center;gap:8px;padding:6px 14px;background:#ef444414;border:1px solid rgba(239,68,68,.2);border-radius:var(--r-md);margin-bottom:4px;transition:background .2s,border-color .2s}.recording-overlay.cancel{background:#ef44442e;border-color:#ef444480}.recording-dot{width:9px;height:9px;background:#ef4444;border-radius:50%;flex-shrink:0;animation:rec-blink 1s ease-in-out infinite}@keyframes rec-blink{0%,to{opacity:1}50%{opacity:.25}}.recording-time{font-size:14px;font-weight:600;color:#ef4444;font-variant-numeric:tabular-nums;min-width:36px}.recording-cancel-hint{font-size:12px;color:var(--text-2);margin-left:auto}.voice-message{display:flex;align-items:center;gap:10px;min-width:210px;max-width:280px;padding:2px 0;-webkit-user-select:none;user-select:none}.voice-play-btn{display:flex;align-items:center;justify-content:center;width:38px;height:38px;border-radius:50%;background:var(--accent);color:#fff;border:none;cursor:pointer;flex-shrink:0;transition:background .15s,transform .1s}.voice-play-btn:hover:not(:disabled){background:var(--accent-hover);transform:scale(1.05)}.voice-play-btn:active:not(:disabled){transform:scale(.96)}.voice-play-btn:disabled{background:var(--text-3);cursor:not-allowed}.voice-play-btn.playing{background:var(--accent-hover)}.voice-body{flex:1;display:flex;flex-direction:column;gap:4px;min-width:0}.voice-waveform{display:flex;align-items:center;gap:2px;height:28px;cursor:pointer}.voice-waveform span{flex:1;background:var(--accent);border-radius:2px;transition:opacity .1s;min-height:3px}.voice-progress{width:100%;-webkit-appearance:none;-moz-appearance:none;appearance:none;height:3px;background:#ffffff26;border-radius:2px;cursor:pointer;outline:none}.voice-progress:disabled{opacity:.4;cursor:not-allowed}.voice-progress::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:12px;height:12px;border-radius:50%;background:var(--accent);cursor:pointer;transition:transform .1s}.voice-progress::-webkit-slider-thumb:hover{transform:scale(1.3)}.voice-progress::-moz-range-thumb{width:12px;height:12px;border-radius:50%;background:var(--accent);border:none;cursor:pointer}.voice-footer{display:flex;justify-content:space-between;align-items:center}.voice-timer{font-size:11px;color:var(--text-2);font-variant-numeric:tabular-nums}.voice-error{font-size:11px;color:var(--red)}.pinned-banner{display:flex;align-items:center;gap:10px;padding:7px 16px;background:#4f8ef712;border-bottom:1px solid rgba(79,142,247,.14);cursor:pointer;transition:background .15s;min-height:44px;flex-shrink:0}.pinned-banner:hover{background:#4f8ef721}.pinned-icon{font-size:14px;flex-shrink:0;opacity:.8}.pinned-content{flex:1;display:flex;flex-direction:column;gap:1px;min-width:0}.pinned-label{font-size:11px;color:var(--accent);font-weight:600;line-height:1.2}.pinned-text{font-size:13px;color:var(--text);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:1.3}.pinned-nav{display:flex;align-items:center;gap:2px;flex-shrink:0}.pinned-nav-btn{background:transparent;border:1px solid var(--border);border-radius:6px;color:var(--text-2);cursor:pointer;font-size:16px;line-height:1;padding:2px 7px;transition:background .12s,color .12s}.pinned-nav-btn:hover{background:var(--bg-glass);color:var(--accent)}.msg-actions{display:flex;flex-direction:column;gap:4px;opacity:0;pointer-events:none;transition:opacity .15s;align-self:center}.msg-actions.visible{opacity:1;pointer-events:auto}.msg-actions-left{margin-right:4px}.msg-actions-right{margin-left:4px}.action-btn{display:flex;align-items:center;justify-content:center;width:28px;height:28px;border-radius:50%;background:var(--bg-glass);border:1px solid var(--border);color:var(--text-2);cursor:pointer;font-size:13px;transition:background .12s,color .12s,transform .1s;flex-shrink:0}.action-btn:hover{background:#ffffff1a;color:var(--text);transform:scale(1.1)}.action-btn.pin-btn.pinned{color:var(--accent);background:var(--accent-dim);border-color:#4f8ef74d}.media-panel{position:absolute;top:0;right:0;width:300px;height:100%;background:#0a0a14f5;backdrop-filter:blur(32px) saturate(160%);-webkit-backdrop-filter:blur(32px) saturate(160%);border-left:1px solid var(--border);z-index:50;display:flex;flex-direction:column;animation:panel-slide-in .2s ease}@keyframes panel-slide-in{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.media-panel-header{display:flex;align-items:center;justify-content:space-between;padding:14px 16px 10px;border-bottom:1px solid var(--border);flex-shrink:0}.media-panel-title{font-size:15px;font-weight:700;color:var(--text)}.media-panel-close{width:28px;height:28px;border-radius:50%;background:var(--bg-glass);border:1px solid var(--border);color:var(--text-2);cursor:pointer;font-size:12px;display:flex;align-items:center;justify-content:center;transition:background .12s}.media-panel-close:hover{background:#ffffff1f;color:var(--text)}.media-tabs{display:flex;border-bottom:1px solid var(--border);flex-shrink:0}.media-tab{flex:1;padding:9px 4px;background:transparent;border:none;border-bottom:2px solid transparent;color:var(--text-2);cursor:pointer;font-size:12px;font-weight:500;display:flex;align-items:center;justify-content:center;gap:4px;transition:color .12s,border-color .12s;margin-bottom:-1px}.media-tab:hover{color:var(--text)}.media-tab.active{color:var(--accent);border-bottom-color:var(--accent)}.media-tab-count{font-size:10px;background:var(--accent-dim);color:var(--accent);border-radius:8px;padding:0 5px;min-width:16px;text-align:center}.media-panel-content{flex:1;overflow-y:auto;overflow-x:hidden}.media-empty{display:flex;align-items:center;justify-content:center;height:120px;color:var(--text-3);font-size:13px}.media-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:2px;padding:2px}.media-grid-item{aspect-ratio:1;overflow:hidden;cursor:pointer;border-radius:4px;transition:opacity .15s}.media-grid-item:hover{opacity:.8}.media-grid-thumb{width:100%;height:100%;background:var(--bg-glass);border:1px solid var(--border);border-radius:4px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:3px;padding:6px}.media-grid-thumb-icon{font-size:22px}.media-grid-thumb-date{font-size:9px;color:var(--text-3)}.media-grid-thumb-nick{font-size:9px;color:var(--text-2);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%}.media-file-list{display:flex;flex-direction:column;padding:6px;gap:2px}.media-file-item{display:flex;align-items:center;gap:10px;padding:9px 10px;border-radius:var(--r-md);cursor:pointer;transition:background .12s}.media-file-item:hover{background:var(--bg-glass)}.media-file-icon{font-size:22px;flex-shrink:0}.media-file-info{flex:1;display:flex;flex-direction:column;gap:2px;min-width:0}.media-file-name{font-size:13px;color:var(--text);font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.media-file-meta{font-size:11px;color:var(--text-2);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.media-file-arrow{color:var(--text-3);font-size:16px;flex-shrink:0}.header-chat-info{display:flex;flex-direction:column;gap:2px;min-width:0}.header-chat-name-row{display:flex;align-items:center;gap:6px}.header-chat-name{font-size:15px;font-weight:700;color:var(--text);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:180px;letter-spacing:-.2px}.header-seed-badge{font-size:10px;font-weight:700;color:var(--text-3);background:#ffffff0d;border:1px solid rgba(255,255,255,.08);border-radius:5px;padding:1px 5px;font-family:monospace;flex-shrink:0;letter-spacing:.5px}.header-meta-row{display:flex;align-items:center;gap:5px;flex-wrap:nowrap}.header-status-dot{width:6px;height:6px;border-radius:50%;flex-shrink:0}.dot-online{background:var(--green);animation:pulse-dot 2.5s ease-in-out infinite}.dot-offline{background:var(--red)}.dot-connecting{background:var(--text-3);animation:blink-dot 1s ease-in-out infinite}@keyframes blink-dot{0%,to{opacity:1}50%{opacity:.3}}.header-status-text{font-size:11px;color:var(--text-2);white-space:nowrap}.header-meta-sep{font-size:10px;color:var(--text-3);flex-shrink:0}.header-ping{font-size:11px;font-weight:600;font-variant-numeric:tabular-nums}.ping-good{color:var(--green)}.ping-ok{color:#f59e0b}.ping-bad{color:var(--red)}.header-enc-badge{font-size:10.5px;color:var(--text-2);white-space:nowrap}.input-bar{display:flex;align-items:flex-end;gap:8px;background:#ffffff0a;border:1px solid var(--border);border-radius:24px;padding:6px 8px 6px 6px;transition:border-color .2s,box-shadow .2s}.input-bar:focus-within{border-color:#4f8ef780;box-shadow:0 0 0 3px #4f8ef71a}.input-left-actions{display:flex;align-items:flex-end;gap:2px;flex-shrink:0;padding-bottom:3px}.input-icon-btn{display:flex;align-items:center;justify-content:center;width:34px;height:34px;border-radius:50%;background:transparent;border:none;color:var(--text-3);cursor:pointer;transition:background .15s,color .15s;flex-shrink:0}.input-icon-btn:hover:not(:disabled){background:#ffffff12;color:var(--text-2)}.input-icon-btn:disabled{opacity:.3;cursor:not-allowed}.input-icon-btn.active{color:var(--accent);background:var(--accent-dim)}.input-bar .message-textarea{background:transparent;border:none;border-radius:0;padding:8px 4px;box-shadow:none!important;min-height:36px}.input-bar .message-textarea:focus{border-color:transparent;box-shadow:none}.input-bar .send-btn{width:38px;height:38px;flex-shrink:0;border-radius:50%;align-self:flex-end}.input-bar .mic-btn{width:38px;height:38px;flex-shrink:0;align-self:flex-end}.attach-menu-wrap{position:relative}.attach-menu{position:absolute;bottom:calc(100% + 10px);left:0;background:#0e0e1cf7;-webkit-backdrop-filter:blur(24px);backdrop-filter:blur(24px);border:1px solid var(--border);border-radius:var(--r-lg);padding:6px;display:flex;flex-direction:column;gap:2px;min-width:200px;z-index:100;box-shadow:0 8px 32px #00000080;animation:fadeUp .15s ease}.attach-menu-item{display:flex;align-items:center;gap:10px;padding:10px 12px;border:none;background:transparent;color:var(--text);font-size:14px;cursor:pointer;border-radius:var(--r-md);transition:background .12s;text-align:left}.attach-menu-item:hover{background:#ffffff12}.attach-menu-item svg{color:var(--text-2);flex-shrink:0}.input-hint{display:none}.header-btn{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:8px;background:transparent;border:1px solid var(--border);color:var(--text-2);cursor:pointer;font-size:16px;transition:background .12s,color .12s}.header-btn:hover{background:var(--bg-glass);color:var(--text)}.header-btn.active{background:var(--accent-dim);border-color:#4f8ef766;color:var(--accent)}.chat-container{position:relative}@media (max-width: 600px){.media-panel{width:100%}}.system-message{display:flex;justify-content:center;padding:2px 0;animation:msgIn .22s ease}.system-message-text{font-size:12px;color:var(--text-3);background:#ffffff0a;border:1px solid rgba(255,255,255,.06);border-radius:20px;padding:3px 14px;-webkit-user-select:none;user-select:none;max-width:80%;text-align:center;line-height:1.5}:root{--bubble-own: rgba(79, 142, 247, .18);--bubble-other: rgba(255, 255, 255, .06);--shadow-sm: 0 2px 8px rgba(0,0,0,.28);--shadow-md: 0 4px 20px rgba(0,0,0,.4);--shadow-accent: 0 4px 18px rgba(79,142,247,.4);--transition: .18s cubic-bezier(.4, 0, .2, 1)}.message-row.own .message-bubble{background:var(--bubble-own);border:1px solid rgba(79,142,247,.28);box-shadow:0 2px 10px #4f8ef714}.message-row.other .message-bubble{background:var(--bubble-other);border:1px solid rgba(255,255,255,.08);box-shadow:0 2px 8px #00000026}.message-row.highlighted .message-bubble{animation:highlightFlash 1.4s ease forwards;outline:2px solid rgba(79,142,247,.5);outline-offset:2px;border-radius:var(--r-lg)}.message-text{font-size:15px;line-height:1.55}.message-nick{font-size:11px;font-weight:700;color:var(--accent-hover);letter-spacing:.3px;margin-bottom:1px}.message-time{font-size:10.5px;color:var(--text-3);align-self:flex-end;margin-top:2px;line-height:1}.send-btn:hover:not(:disabled){box-shadow:0 8px 28px #4f8ef7b3}.messages-area{gap:4px;padding:16px 14px 6px}.chat-header{padding:12px 20px}.header-logo{width:38px;height:38px;border-radius:11px;box-shadow:0 4px 16px #4f8ef773}.leave-btn{padding:6px 14px;background:#ffffff0d;border:1px solid var(--border);border-radius:var(--r-sm);color:var(--text-2);font-size:13px;font-weight:500;cursor:pointer;transition:background var(--transition),color var(--transition);white-space:nowrap}.leave-btn:hover{background:#ffffff1a;color:var(--text)}.typing-indicator{height:0;overflow:hidden;transition:height var(--transition),padding var(--transition),opacity var(--transition);opacity:0;display:flex;align-items:center;gap:6px;padding:0 20px;font-size:13px;color:var(--text-2);flex-shrink:0}.typing-indicator--visible{height:30px;padding:4px 20px;opacity:1}.typing-dots{display:inline-flex;align-items:center;gap:3px}.typing-dots span{display:inline-block;width:5px;height:5px;background:var(--accent);border-radius:50%;opacity:.4;animation:typing-bounce 1.2s ease-in-out infinite}.typing-dots span:nth-child(1){animation-delay:0s}.typing-dots span:nth-child(2){animation-delay:.18s}.typing-dots span:nth-child(3){animation-delay:.36s}@keyframes typing-bounce{0%,60%,to{opacity:.3;transform:translateY(0)}30%{opacity:1;transform:translateY(-4px)}}.reply-preview{display:flex;align-items:center;gap:8px;padding:6px 12px;background:#4f8ef714;border:1px solid rgba(79,142,247,.16);border-radius:var(--r-md);animation:fadeUp .15s ease}.reply-quote{border-left:3px solid var(--accent);border-radius:0 var(--r-sm) var(--r-sm) 0;padding:4px 10px;background:#4f8ef712;margin-bottom:2px}.reply-quote-clickable{cursor:pointer;transition:background var(--transition)}.reply-quote-clickable:hover{background:#4f8ef724}.reply-quote-nick{display:block;font-size:11px;font-weight:700;color:var(--accent-hover);margin-bottom:2px}.reply-quote-text{font-size:12.5px;color:var(--text-2);display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.scroll-to-bottom-btn{bottom:120px;box-shadow:0 4px 18px #00000073,0 0 0 1px #4f8ef733;transition:transform var(--transition),box-shadow var(--transition)}.scroll-to-bottom-btn:hover{transform:translateY(-3px) scale(1.05);box-shadow:0 8px 24px #00000080,0 0 0 1px #4f8ef759;opacity:1}.action-btn{width:30px;height:30px;font-size:14px}.like-badge{transition:background var(--transition),transform .1s ease}.like-badge:active{transform:scale(.92)}.chat-preloader{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;background:var(--bg);z-index:200}.preloader-logo{width:56px;height:56px;border-radius:16px;background:linear-gradient(135deg,var(--accent) 0%,#7c3aed 100%);display:flex;align-items:center;justify-content:center;font-size:18px;font-weight:800;color:#fff;box-shadow:0 8px 28px #4f8ef766;animation:glow 2.5s ease-in-out infinite}.preloader-spinner{width:28px;height:28px;border:3px solid rgba(79,142,247,.18);border-top-color:var(--accent);border-radius:50%;animation:spin .8s linear infinite}.preloader-text{font-size:13px;color:var(--text-2)}
